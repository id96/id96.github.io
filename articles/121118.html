<!DOCTYPE HTML>
<!--
	Phantom by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Curating clean text</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="../assets/css/main.css" />
		<link rel="icon" href="../images/favicon.png">
		<noscript><link rel="stylesheet" href="../assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">
		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="inner">


							<!-- Nav -->
								<nav>
									<ul>
										<li><a href="#menu">Menu</a></li>
									</ul>
								</nav>

						</div>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<h2>Menu</h2>
						<ul>
							<li><a href="../index.html">Home</a></li>
							<li><a href="../about.html">About</a></li>
							<li><a href="../blog.html">Blog</a></li>
							<li><a href="../portfolio.html">Portfolio</a></li>
							<li><a href="../contact.html">Contact</a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">
						<div class="inner">
                            <h1>Curating clean text</h1>
							<h2>Creating the optimal and most frequent vocabulary</h2>
							<p>Today I met with my advisor Prof Mimno to discuss my progress over the semester as well as to get some programming tips. I'd been struggling with 
							cleaning up the raw text I had been saving from all_speeches.tsv (the script that pulled text from their original XML files). The original experiment wanted the 
							text to be set to lowercase, with contractions separated, and all words less than 3 characters removed. We also needed to remove stopwords. I had originally been trying
							to make if statements and for loops, (for example, if a word len < 3...), but they were failing miserably and not catching fringe cases. Professor Mimno suggested using
							regex, or a regular expression to filter through the word tokens (instead of looping through them). Here is what we came up with:
							</p>
							<pre>
								<code>word_pattern = re.compile("\w[\-\w]+\w")

#read through the raw text speech by speech
for line in vocab_reader: 
	line = line.rstrip() #removes trailing characters like extra spaces
	line = line.lower()	#makes lowercase
	tokens = word_pattern.findall(line) #this applies the regex expression to all words in the speeches
								</code>
							</pre>
							<h3>REGEX BREAKDOWN</h3>
							<p>What does re.compile("\w[\-\w]+\w") even mean?</p>
							<p>Let's break it down.</p>
							<p>
								
							</p>
							<p>
								After this code was applied, to take out stopwords, I created an array with all stopwords as item. If the word (or token) was in this array, I replaced the 
								word with '', which is basically removing it from the corpus. After this reduction, I still have 45,767 speeches and 5,045,232 words. I should have 44,913 speeches and 4,765,773 words.
								On average, that means that my 854 extra speeches containt 279,459 extra words (~327 words each) after clean up. I still need to find a solution to this before I start topic modeling!
							</p>
						</div>
					</div>

				<!-- Footer -->
				<footer class="footer">
						<div class="inner">
                            <section>
                                    <h2 style="margin-right: 30px;
                                    display: inline-block;">Follow</h2>
                                    <ul class="icons">
                                        <li><a href="https://www.linkedin.com/in/isabelle-debrabanter/" class="icon style2 fa-linkedin"><span class="label">Twitter</span></a></li>
                                        <li><a href="https://github.com/id96" class="icon style2 fa-github"><span class="label">GitHub</span></a></li>
                                        <li><a href="mailto:id96@cornell.edu" class="icon style2 fa-envelope-o"><span class="label">Email</span></a></li>
                                    </ul>
                                </section>
                                <ul class="copyright">
                                    <li>&copy; Isabelle De Brabanter. All rights reserved</li>
                                </ul>
						</div>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="../assets/js/jquery.min.js"></script>
			<script src="../assets/js/browser.min.js"></script>
			<script src="../assets/js/breakpoints.min.js"></script>
			<script src="../assets/js/util.js"></script>
			<script src="../assets/js/main.js"></script>

	</body>
</html>